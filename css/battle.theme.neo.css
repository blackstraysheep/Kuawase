@import url("battle.css");
/* ネオコントラスト: ダーク背景 + ネオンライン + グリッド感 */
:root {
  --neo-bg: #05060a;
  --neo-panel: #0d1016;
  --neo-line: linear-gradient(90deg,#ff007c,#7c00ff,#00d5ff);
  --neo-red: #ff2975;
  --neo-white: #23d5ff;
  --neo-glow: 0 0 6px rgba(255,0,140,0.6), 0 0 18px rgba(0,213,255,0.35);
  --neo-font: 'Segoe UI', 'Noto Sans JP', sans-serif;
  color-scheme: dark;
}
html, body { background: radial-gradient(circle at 70% 30%, #16202a 0%, #07090e 60%, #030407 100%); color:#ebf4ff; font-family: var(--neo-font); }

h1 { background: var(--neo-line); color:#fff; -webkit-background-clip: text; background-clip: text; color:transparent; filter: drop-shadow(0 0 6px rgba(255,0,140,.5)); position:relative; }

h1::after { content:""; position:absolute; inset:0; background: linear-gradient(120deg,rgba(255,0,140,0.15),rgba(0,213,255,0.15)); mix-blend-mode:overlay; }

h2, h3, h4 { color:#fafcff; text-shadow:0 0 6px rgba(0,213,255,0.35); }

#wrapper { gap: 1rem; padding: .6rem 1rem 1rem; }

#left2, #main, #right2, #left3, #right3,
.poem-panel, .match-panel, .team-slot {
  background: linear-gradient(145deg,#0d1016,#141c27);
  border: 1px solid rgba(255,255,255,0.08);
  box-shadow: 0 0 0 1px rgba(255,255,255,0.04), 0 8px 24px -6px rgba(0,0,0,0.75);
  position: relative; overflow:hidden; border-radius: 18px;
}
.team-slot {margin: 8px; min-height: 0;}
#left2::before, #main::before, #right2::before,
.poem-panel::before, .match-panel::before {
  content:""; position:absolute; inset:0; padding:1px; border-radius:inherit;
  background: conic-gradient(from var(--rotate-angle), #ff007c, #7c00ff, #00d5ff, #ff007c);
  animation: neoBorderRotate 4s linear infinite;
  -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite:xor; mask-composite:exclude; opacity:.95;
  will-change: --rotate-angle;
}
/* 紅系パネル: 赤〜紫寄りに強調 */
#left2::before, .poem-panel--red::before {
  background: conic-gradient(from var(--rotate-angle), #ff2975, #ff007c, #7c00ff, #ff2975);
  animation-duration: 3s;
}
/* 白系パネル: シアン〜バイオレット寄りに強調 */
#right2::before, .poem-panel--white::before {
  background: conic-gradient(from var(--rotate-angle), #23d5ff, #00d5ff, #7c00ff, #23d5ff);
  animation-duration: 4s;
}
/* メイン/対戦情報は中立グラデーション維持 */
#main::before, .match-panel::before {
  background: conic-gradient(from var(--rotate-angle), #ff007c, #7c00ff, #00d5ff, #ff007c);
}

/* 回転アニメーション用のカスタムプロパティ定義 */
@property --rotate-angle {
  syntax: "<angle>";
  initial-value: 0deg;
  inherits: false;
}

@keyframes neoBorderRotate {
  0% { --rotate-angle: 0deg; }
  100% { --rotate-angle: 360deg; }
}

#left2, .poem-panel--red { box-shadow: 0 0 0 1px rgba(255,41,117,0.5), var(--neo-glow); }
#right2, .poem-panel--white { box-shadow: 0 0 0 1px rgba(35,213,255,0.5), 0 0 12px rgba(35,213,255,0.45); }

h4[data-lang=red] { color: var(--neo-red); }
h4[data-lang=white] { color: var(--neo-white); }

.team { color:#fff; font-weight:700; text-shadow:0 0 6px rgba(255,0,140,0.6); }
#right3 .team { text-shadow:0 0 6px rgba(35,213,255,0.6); }

.kunakami { color:#fff; font-size:2.5em; letter-spacing:.04em; text-shadow:0 0 10px rgba(255,255,255,0.4), 0 0 22px rgba(0,213,255,0.35); }

.fade-in { animation: fadeSlideDown 0.9s cubic-bezier(.6,0,.4,1) forwards; }

#left2:hover, #right2:hover, #main:hover,
.poem-panel:hover, .match-panel:hover { transform: translateY(-4px) scale(1.01); box-shadow:0 0 0 1px rgba(255,255,255,0.08), 0 14px 34px -8px rgba(0,0,0,0.9); transition:.4s; }
#left2, #right2, #main,
.poem-panel, .match-panel { transition:.4s; }

/* 背景グリッド */
body::before { content:""; position:fixed; inset:0; pointer-events:none; background:
  repeating-linear-gradient(90deg, rgba(255,255,255,0.04) 0 1px, transparent 1px 60px),
  repeating-linear-gradient(0deg, rgba(255,255,255,0.04) 0 1px, transparent 1px 60px);
  mask: radial-gradient(circle at 50% 50%, #000 0 65%, transparent 70%);
}

/* アニメーションパルス */
@keyframes neonPulse { from { filter:brightness(1); } 50% { filter:brightness(1.3); } to { filter:brightness(1); } }
#left2, #right2, .poem-panel--red, .poem-panel--white { animation: neonPulse 6s linear infinite; }
#left2, .poem-panel--red { animation-delay: 0s; }
#right2, .poem-panel--white { animation-delay: 3s; }
